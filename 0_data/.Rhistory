data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type6,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type7,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
"other",
data_final$placement_type)
#------------------------------ 3. Final cleaning and save ------------------------------#
data_final[5:11] <- list(NULL) # remove unnecessary dummies
data_final$name <- NULL
data_final$name <- ""
order <- c("year", "name", "field", "placement", "placement_type") # rearrange columns
data_final <- data_final[,order]
write_xlsx(data_final, "princeton.xls")
# Clean environment
setwd(paste0(code))
rm(list = ls())
# Set paths
source("_packages_paths.R")
setwd(paste0(data, "/us/raw/"))
#------------------------------ 1. Read data and preliminary cleaning ------------------------------#
data_final <- read_excel("princeton_raw.xls") # for merging
# No names available: create ID column
data_final <- data_final %>% mutate(name = row_number())
#------------------------------ 2. Classify placements ------------------------------#
# Post-docs
postdocs <- c("Post-doc", "Postdoc", "Postdoctoral", "Post-doctoral", "postdoc", "Post Doc", "post-doc",
"post doc", "Post-Doc", "PostDoc")
postdocsnot <- c("after one-year postdoc", ", then", "Post Doc)", "Assistant Professor", "post-doc/", "National Bank of Ukraine",
"Central Bank of Chile")
postdocs <- data_final %>% filter(grepl(paste(postdocs, collapse="|"), placement) & !grepl(paste(postdocsnot, collapse="|"), placement))
postdocs$placement_type1 <- "postdoc"
postdocs <- postdocs %>% select(name, placement_type1)
# Tenure-track
tenuretrack <- c("Business School", "University", "Department of Economics", "School of", "Yale SOM", "John Hopkins",
"EIEF Rome", "Northwestern Kellogg", "Brown", "MIT Sloan", "UC Berkeley", "Harvard Kennedy School",
"Columbia Econ", "INSEAD", "Sciences Po", "Instituto Tecnológico Autónomo de México", "Harvard Law School",
"Dartmouth", "LMU Munich", "Vanderbilt", "NYU", "MIT", "CEMFI", "Boston College",
"Universitat Pompeu Fabra", "USC", "Chicago Booth", "UC ", "UNLV", "UT Austin", "Universidad",
"LSE", "UCLA", "UBC Sauder", "Georgia Institute of Technology", "Kellogg", "Penn State",
"Carnegie Mellon", "Wharton", "Michigan State", "UGA", "McMaste", "Princeton", "Toronto", "HEC Paris",
"Columbia", "Schl of ", "Harvard", "U of Tokyo", "CREi", "Law School", "College", "Aix-Marseille",
"Cornell", "Collegio Carlo Alberto", "Nova SBE", "Getulio Vargas", "CIDE", "Assistant Professor")
tenuretracknot <- c("Lecturer", "National Bank of Ukraine", "Princeton")
tenuretrack <- data_final %>% filter(grepl(paste(tenuretrack, collapse="|"), placement) & !grepl(paste(tenuretracknot, collapse="|"), placement))
tenuretrack$placement_type2 <- "tenure_track"
tenuretrack <- tenuretrack %>% select(name, placement_type2)
# International organizations
intl <- c("World Bank", "IMF", "UNU Wider", "International Monetary Fund", "Inter American Development Bank",
"Inter-American Development Bank", "European Bank for Reconstruction and Development", "OECD",
"Bank for International Settlements")
intl <- data_final %>% filter(grepl(paste(intl, collapse="|"), placement))
intl$placement_type3 <- "international_inst"
intl <- intl %>% select(name, placement_type3)
# Private sector
private <- c("Analysis Group", "Anaylsis Group", "Uber", "Amazon", "Facebook", "Air BnB",
"AirBnB", "Consulting", "Cornerstone", "Edgeworth Economics", "Mathematica", "Vanguard",
"QuantCo", "Spotify", "Goldman Sachs", "Lyft", "Square Capital", "McKinsey", "Square Group",
"American Road & Transportation Builders Association", "Upwork", "TrueCar", "Coursera",
"Jane Street", "Farallon Capital", "Bain & Company", "Management Group", "Wayfair",
"Dodge & Cox", "PrepScholar", "Wilson Perumal & Company", "Deliveroo", "Google",
"Meta", "Sidley Austin", "LinkedIn", "Safra Bank", "Ping An Bank", "PIMCO", "Investment",
"REMI", "Quantco", "IDInsight", "IDinsight", "Charles River", "Asset Management", "Instacart",
"Asset Management", "Airbnb", "Nuna Health", "NERA", "Zillow", "Capital Management",
"Ohmconnect", "Netflix", "Keystone Strategy", "SiriusXM/Pandora", "Bates White",
"Root Insurance", "Revelio Labs", "JP Morgan", "WorldQuant", "Deutsche Bank",
"D.E. Shaw", "Citigroup", "Wealthfront", "Brattle Group", "Bank of America", "BlackRock",
"Investimentos")
private <- data_final %>% filter(grepl(paste(private, collapse="|"), placement))
private$placement_type4 <- "private"
private <- private %>% select(name, placement_type4)
# Central banks
centralbanks <- c("Bank of Spain", "Bank of Canada", "Bank of Chile", "Federal Reserve", "FRB",
"Central Bank", 'Bank of Korea', "Bank of Mexico", "FED", "Bank of Italy",
"Hong Kong Monetary Authority", "Federal Bank Reserve", "Bank of Norway",
"Norges Bank", "GiveWell", "Banco de Mexico", "National Bank of Ukraine")
centralbanks <- data_final %>% filter(grepl(paste(centralbanks, collapse="|"), placement))
centralbanks$placement_type5 <- "central_bank"
centralbanks <- centralbanks %>% select(name, placement_type5)
# Think tanks
thinktanks <- c("Resources for the Future", "Opportunity Insights", "American Enterprise Institute", "Rand",
"Hoover Institution", "Center for Global Development", "Upjohn Institute", "RAND", "RFF",
"Korea Institute", "Korea Development Institute")
thinktanks <- data_final %>% filter(grepl(paste(thinktanks, collapse="|"), placement))
thinktanks$placement_type6 <- "thinktank"
thinktanks <- thinktanks %>% select(name, placement_type6)
# Government
government <- c("Treasury", "Federal Trade Commission", "Congressional Budget Office","Joint Committee on Taxation",
"Committee for Public Counsel Services, Boston", "Boston Redevelopment Authority",
"Federal District Court", "U.S. Census Bureau", "US Naval Academy")
government <- data_final %>% filter(grepl(paste(government, collapse="|"), placement))
government$placement_type7 <- "government"
government <- government %>% select(name, placement_type7)
# Merge in type dummies
data_final <- left_join(data_final, postdocs)
data_final <- left_join(data_final, tenuretrack)
data_final <- left_join(data_final, intl)
data_final <- left_join(data_final, private)
data_final <- left_join(data_final, centralbanks)
data_final <- left_join(data_final, thinktanks)
data_final <- left_join(data_final, government)
# Assign type
data_final$placement_type <- data_final$placement_type1
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type2,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type3,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type4,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type5,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type6,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type7,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
"other",
data_final$placement_type)
#------------------------------ 3. Final cleaning and save ------------------------------#
data_final[5:11] <- list(NULL) # remove unnecessary dummies
data_final$name <- NULL
data_final$name <- ""
order <- c("year", "name", "field", "placement", "placement_type") # rearrange columns
data_final <- data_final[,order]
write_xlsx(data_final, "princeton.xls")
# Clean environment
setwd(paste0(code))
rm(list = ls())
# Set paths
source("_packages_paths.R")
setwd(paste0(data, "/us/raw/"))
#------------------------------ 1. Read data and preliminary cleaning ------------------------------#
data_final <- read_excel("princeton_raw.xls") # for merging
# No names available: create ID column
data_final <- data_final %>% mutate(name = row_number())
#------------------------------ 2. Classify placements ------------------------------#
# Post-docs
postdocs <- c("Post-doc", "Postdoc", "Postdoctoral", "Post-doctoral", "postdoc", "Post Doc", "post-doc",
"post doc", "Post-Doc", "PostDoc")
postdocsnot <- c("after one-year postdoc", ", then", "Post Doc)", "Assistant Professor", "post-doc/", "National Bank of Ukraine",
"Central Bank of Chile")
postdocs <- data_final %>% filter(grepl(paste(postdocs, collapse="|"), placement) & !grepl(paste(postdocsnot, collapse="|"), placement))
postdocs$placement_type1 <- "postdoc"
postdocs <- postdocs %>% select(name, placement_type1)
# Tenure-track
tenuretrack <- c("Business School", "University", "Department of Economics", "School of", "Yale SOM", "John Hopkins",
"EIEF Rome", "Northwestern Kellogg", "Brown", "MIT Sloan", "UC Berkeley", "Harvard Kennedy School",
"Columbia Econ", "INSEAD", "Sciences Po", "Instituto Tecnológico Autónomo de México", "Harvard Law School",
"Dartmouth", "LMU Munich", "Vanderbilt", "NYU", "MIT", "CEMFI", "Boston College",
"Universitat Pompeu Fabra", "USC", "Chicago Booth", "UC ", "UNLV", "UT Austin", "Universidad",
"LSE", "UCLA", "UBC Sauder", "Georgia Institute of Technology", "Kellogg", "Penn State",
"Carnegie Mellon", "Wharton", "Michigan State", "UGA", "McMaste", "Princeton", "Toronto", "HEC Paris",
"Columbia", "Schl of ", "Harvard", "U of Tokyo", "CREi", "Law School", "College", "Aix-Marseille",
"Cornell", "Collegio Carlo Alberto", "Nova SBE", "Getulio Vargas", "CIDE", "Assistant Professor")
tenuretracknot <- c("Lecturer", "National Bank of Ukraine", "Princeton")
tenuretrack <- data_final %>% filter(grepl(paste(tenuretrack, collapse="|"), placement) & !grepl(paste(tenuretracknot, collapse="|"), placement))
tenuretrack$placement_type2 <- "tenure_track"
tenuretrack <- tenuretrack %>% select(name, placement_type2)
# International organizations
intl <- c("World Bank", "IMF", "UNU Wider", "International Monetary Fund", "Inter American Development Bank",
"Inter-American Development Bank", "European Bank for Reconstruction and Development", "OECD",
"Bank for International Settlements")
intl <- data_final %>% filter(grepl(paste(intl, collapse="|"), placement))
intl$placement_type3 <- "international_inst"
intl <- intl %>% select(name, placement_type3)
# Private sector
private <- c("Analysis Group", "Anaylsis Group", "Uber", "Amazon", "Facebook", "Air BnB",
"AirBnB", "Consulting", "Cornerstone", "Edgeworth Economics", "Mathematica", "Vanguard",
"QuantCo", "Spotify", "Goldman Sachs", "Lyft", "Square Capital", "McKinsey", "Square Group",
"American Road & Transportation Builders Association", "Upwork", "TrueCar", "Coursera",
"Jane Street", "Farallon Capital", "Bain & Company", "Management Group", "Wayfair",
"Dodge & Cox", "PrepScholar", "Wilson Perumal & Company", "Deliveroo", "Google",
"Meta", "Sidley Austin", "LinkedIn", "Safra Bank", "Ping An Bank", "PIMCO", "Investment",
"REMI", "Quantco", "IDInsight", "IDinsight", "Charles River", "Asset Management", "Instacart",
"Asset Management", "Airbnb", "Nuna Health", "NERA", "Zillow", "Capital Management",
"Ohmconnect", "Netflix", "Keystone Strategy", "SiriusXM/Pandora", "Bates White",
"Root Insurance", "Revelio Labs", "JP Morgan", "WorldQuant", "Deutsche Bank",
"D.E. Shaw", "Citigroup", "Wealthfront", "Brattle Group", "Bank of America", "BlackRock",
"Investimentos")
private <- data_final %>% filter(grepl(paste(private, collapse="|"), placement))
private$placement_type4 <- "private"
private <- private %>% select(name, placement_type4)
# Central banks
centralbanks <- c("Bank of Spain", "Bank of Canada", "Bank of Chile", "Federal Reserve", "FRB",
"Central Bank", 'Bank of Korea', "Bank of Mexico", "FED", "Bank of Italy",
"Hong Kong Monetary Authority", "Federal Bank Reserve", "Bank of Norway",
"Norges Bank", "GiveWell", "Banco de Mexico", "National Bank of Ukraine")
centralbanks <- data_final %>% filter(grepl(paste(centralbanks, collapse="|"), placement))
centralbanks$placement_type5 <- "central_bank"
centralbanks <- centralbanks %>% select(name, placement_type5)
# Think tanks
thinktanks <- c("Resources for the Future", "Opportunity Insights", "American Enterprise Institute", "Rand",
"Hoover Institution", "Center for Global Development", "Upjohn Institute", "RAND", "RFF",
"Korea Institute", "Korea Development Institute")
thinktanks <- data_final %>% filter(grepl(paste(thinktanks, collapse="|"), placement))
thinktanks$placement_type6 <- "thinktank"
thinktanks <- thinktanks %>% select(name, placement_type6)
# Government
government <- c("Treasury", "Federal Trade Commission", "Congressional Budget Office","Joint Committee on Taxation",
"Committee for Public Counsel Services, Boston", "Boston Redevelopment Authority",
"Federal District Court", "U.S. Census Bureau", "US Naval Academy")
government <- data_final %>% filter(grepl(paste(government, collapse="|"), placement))
government$placement_type7 <- "government"
government <- government %>% select(name, placement_type7)
# Merge in type dummies
data_final <- left_join(data_final, postdocs)
data_final <- left_join(data_final, tenuretrack)
data_final <- left_join(data_final, intl)
data_final <- left_join(data_final, private)
data_final <- left_join(data_final, centralbanks)
data_final <- left_join(data_final, thinktanks)
data_final <- left_join(data_final, government)
# Assign type
data_final$placement_type <- data_final$placement_type1
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type2,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type3,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type4,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type5,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type6,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type7,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
"other",
data_final$placement_type)
#------------------------------ 3. Final cleaning and save ------------------------------#
data_final[5:11] <- list(NULL) # remove unnecessary dummies
data_final$name <- NULL
data_final$name <- ""
order <- c("year", "name", "field", "placement", "placement_type") # rearrange columns
data_final <- data_final[,order]
write_xlsx(data_final, "princeton.xls")
# Set paths
source("_packages_paths.R")
setwd(paste0(data, "/us/raw/"))
#------------------------------ 1. Read data and preliminary cleaning ------------------------------#
data_final <- read_excel("princeton_raw.xls") # for merging
# No names available: create ID column
data_final <- data_final %>% mutate(name = row_number())
#------------------------------ 2. Classify placements ------------------------------#
# Post-docs
postdocs <- c("Post-doc", "Postdoc", "Postdoctoral", "Post-doctoral", "postdoc", "Post Doc", "post-doc",
"post doc", "Post-Doc", "PostDoc")
postdocsnot <- c("Assistant Professor", "Postdoc/Researcher")
postdocs <- data_final %>% filter(grepl(paste(postdocs, collapse="|"), placement) & !grepl(paste(postdocsnot, collapse="|"), placement))
postdocs$placement_type1 <- "postdoc"
postdocs <- postdocs %>% select(name, placement_type1)
# Tenure-track
tenuretrack <- c("Business School", "University", "Department of Economics", "School of", "Yale SOM", "John Hopkins",
"EIEF Rome", "Northwestern Kellogg", "Brown", "MIT Sloan", "UC Berkeley", "Harvard Kennedy School",
"Columbia Econ", "INSEAD", "Sciences Po", "Instituto Tecnológico Autónomo de México", "Harvard Law School",
"Dartmouth", "LMU Munich", "Vanderbilt", "NYU", "MIT", "CEMFI", "Boston College",
"Universitat Pompeu Fabra", "USC", "Chicago Booth", "UC ", "UNLV", "UT Austin", "Universidad",
"LSE", "UCLA", "UBC Sauder", "Georgia Institute of Technology", "Kellogg", "Penn State",
"Carnegie Mellon", "Wharton", "Michigan State", "UGA", "McMaste", "Princeton", "Toronto", "HEC Paris",
"Columbia", "Schl of ", "Harvard", "U of Tokyo", "CREi", "Law School", "College", "Aix-Marseille",
"Cornell", "Collegio Carlo Alberto", "Nova SBE", "Getulio Vargas", "CIDE", "Assistant Professor")
tenuretracknot <- c("Lecturer", "National Bank of Ukraine", "Princeton")
tenuretrack <- data_final %>% filter(grepl(paste(tenuretrack, collapse="|"), placement) & !grepl(paste(tenuretracknot, collapse="|"), placement))
tenuretrack$placement_type2 <- "tenure_track"
tenuretrack <- tenuretrack %>% select(name, placement_type2)
# International organizations
intl <- c("World Bank", "IMF", "UNU Wider", "International Monetary Fund", "Inter American Development Bank",
"Inter-American Development Bank", "European Bank for Reconstruction and Development", "OECD",
"Bank for International Settlements")
intl <- data_final %>% filter(grepl(paste(intl, collapse="|"), placement))
intl$placement_type3 <- "international_inst"
intl <- intl %>% select(name, placement_type3)
# Private sector
private <- c("Analysis Group", "Anaylsis Group", "Uber", "Amazon", "Facebook", "Air BnB",
"AirBnB", "Consulting", "Cornerstone", "Edgeworth Economics", "Mathematica", "Vanguard",
"QuantCo", "Spotify", "Goldman Sachs", "Lyft", "Square Capital", "McKinsey", "Square Group",
"American Road & Transportation Builders Association", "Upwork", "TrueCar", "Coursera",
"Jane Street", "Farallon Capital", "Bain & Company", "Management Group", "Wayfair",
"Dodge & Cox", "PrepScholar", "Wilson Perumal & Company", "Deliveroo", "Google",
"Meta", "Sidley Austin", "LinkedIn", "Safra Bank", "Ping An Bank", "PIMCO", "Investment",
"REMI", "Quantco", "IDInsight", "IDinsight", "Charles River", "Asset Management", "Instacart",
"Asset Management", "Airbnb", "Nuna Health", "NERA", "Zillow", "Capital Management",
"Ohmconnect", "Netflix", "Keystone Strategy", "SiriusXM/Pandora", "Bates White",
"Root Insurance", "Revelio Labs", "JP Morgan", "WorldQuant", "Deutsche Bank",
"D.E. Shaw", "Citigroup", "Wealthfront", "Brattle Group", "Bank of America", "BlackRock",
"Investimentos")
private <- data_final %>% filter(grepl(paste(private, collapse="|"), placement))
private$placement_type4 <- "private"
private <- private %>% select(name, placement_type4)
# Central banks
centralbanks <- c("Bank of Spain", "Bank of Canada", "Bank of Chile", "Federal Reserve", "FRB",
"Central Bank", 'Bank of Korea', "Bank of Mexico", "FED", "Bank of Italy",
"Hong Kong Monetary Authority", "Federal Bank Reserve", "Bank of Norway",
"Norges Bank", "GiveWell", "Banco de Mexico", "National Bank of Ukraine")
centralbanks <- data_final %>% filter(grepl(paste(centralbanks, collapse="|"), placement))
centralbanks$placement_type5 <- "central_bank"
centralbanks <- centralbanks %>% select(name, placement_type5)
# Think tanks
thinktanks <- c("Resources for the Future", "Opportunity Insights", "American Enterprise Institute", "Rand",
"Hoover Institution", "Center for Global Development", "Upjohn Institute", "RAND", "RFF",
"Korea Institute", "Korea Development Institute")
thinktanks <- data_final %>% filter(grepl(paste(thinktanks, collapse="|"), placement))
thinktanks$placement_type6 <- "thinktank"
thinktanks <- thinktanks %>% select(name, placement_type6)
# Government
government <- c("Treasury", "Federal Trade Commission", "Congressional Budget Office","Joint Committee on Taxation",
"Committee for Public Counsel Services, Boston", "Boston Redevelopment Authority",
"Federal District Court", "U.S. Census Bureau", "US Naval Academy")
government <- data_final %>% filter(grepl(paste(government, collapse="|"), placement))
government$placement_type7 <- "government"
government <- government %>% select(name, placement_type7)
# Merge in type dummies
data_final <- left_join(data_final, postdocs)
data_final <- left_join(data_final, tenuretrack)
data_final <- left_join(data_final, intl)
data_final <- left_join(data_final, private)
data_final <- left_join(data_final, centralbanks)
data_final <- left_join(data_final, thinktanks)
data_final <- left_join(data_final, government)
# Assign type
data_final$placement_type <- data_final$placement_type1
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type2,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type3,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type4,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type5,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type6,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type7,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
"other",
data_final$placement_type)
#------------------------------ 3. Final cleaning and save ------------------------------#
data_final[5:11] <- list(NULL) # remove unnecessary dummies
data_final$name <- NULL
data_final$name <- ""
order <- c("year", "name", "field", "placement", "placement_type") # rearrange columns
data_final <- data_final[,order]
write_xlsx(data_final, "princeton.xls")
View(data_final)
# Set paths
source("_packages_paths.R")
setwd(paste0(data, "/us/raw/"))
#------------------------------ 1. Read data and preliminary cleaning ------------------------------#
data_final <- read_excel("princeton_raw.xls") # for merging
# No names available: create ID column
data_final <- data_final %>% mutate(name = row_number())
#------------------------------ 2. Classify placements ------------------------------#
# Post-docs
postdocs <- c("Post-doc", "Postdoc", "Postdoctoral", "Post-doctoral", "postdoc", "Post Doc", "post-doc",
"post doc", "Post-Doc", "PostDoc")
postdocsnot <- c("Assistant Professor", "Postdoc/Researcher")
postdocs <- data_final %>% filter(grepl(paste(postdocs, collapse="|"), placement) & !grepl(paste(postdocsnot, collapse="|"), placement))
postdocs$placement_type1 <- "postdoc"
postdocs <- postdocs %>% select(name, placement_type1)
# Tenure-track
tenuretrack <- c("Business School", "University", "Department of Economics", "School of", "Yale SOM", "John Hopkins",
"EIEF Rome", "Northwestern Kellogg", "Brown", "MIT Sloan", "UC Berkeley", "Harvard Kennedy School",
"Columbia Econ", "INSEAD", "Sciences Po", "Instituto Tecnológico Autónomo de México", "Harvard Law School",
"Dartmouth", "LMU Munich", "Vanderbilt", "NYU", "MIT", "CEMFI", "Boston College",
"Universitat Pompeu Fabra", "USC", "Chicago Booth", "UC ", "UNLV", "UT Austin", "Universidad",
"LSE", "UCLA", "UBC Sauder", "Georgia Institute of Technology", "Kellogg", "Penn State",
"Carnegie Mellon", "Wharton", "Michigan State", "UGA", "McMaste", "Princeton", "Toronto", "HEC Paris",
"Columbia", "Schl of ", "Harvard", "U of Tokyo", "CREi", "Law School", "College", "Aix-Marseille",
"Cornell", "Collegio Carlo Alberto", "Nova SBE", "Getulio Vargas", "CIDE", "Assistant Professor")
tenuretracknot <- c("Lecturer", "National Bank of Ukraine", "Princeton")
tenuretrack <- data_final %>% filter(grepl(paste(tenuretrack, collapse="|"), placement) & !grepl(paste(tenuretracknot, collapse="|"), placement))
tenuretrack$placement_type2 <- "tenure_track"
tenuretrack <- tenuretrack %>% select(name, placement_type2)
# International organizations
intl <- c("World Bank", "IMF", "UNU Wider", "International Monetary Fund", "Inter American Development Bank",
"Inter-American Development Bank", "European Bank for Reconstruction and Development", "OECD",
"Bank for International Settlements")
intl <- data_final %>% filter(grepl(paste(intl, collapse="|"), placement))
intl$placement_type3 <- "international_inst"
intl <- intl %>% select(name, placement_type3)
# Private sector
private <- c("Analysis Group", "Anaylsis Group", "Uber", "Amazon", "Facebook", "Air BnB",
"AirBnB", "Consulting", "Cornerstone", "Edgeworth Economics", "Mathematica", "Vanguard",
"QuantCo", "Spotify", "Goldman Sachs", "Lyft", "Square Capital", "McKinsey", "Square Group",
"American Road & Transportation Builders Association", "Upwork", "TrueCar", "Coursera",
"Jane Street", "Farallon Capital", "Bain & Company", "Management Group", "Wayfair",
"Dodge & Cox", "PrepScholar", "Wilson Perumal & Company", "Deliveroo", "Google",
"Meta", "Sidley Austin", "LinkedIn", "Safra Bank", "Ping An Bank", "PIMCO", "Investment",
"REMI", "Quantco", "IDInsight", "IDinsight", "Charles River", "Asset Management", "Instacart",
"Asset Management", "Airbnb", "Nuna Health", "NERA", "Zillow", "Capital Management",
"Ohmconnect", "Netflix", "Keystone Strategy", "SiriusXM/Pandora", "Bates White",
"Root Insurance", "Revelio Labs", "JP Morgan", "WorldQuant", "Deutsche Bank",
"D.E. Shaw", "Citigroup", "Wealthfront", "Brattle Group", "Bank of America", "BlackRock",
"Investimentos", "GiveWell")
private <- data_final %>% filter(grepl(paste(private, collapse="|"), placement))
private$placement_type4 <- "private"
private <- private %>% select(name, placement_type4)
# Central banks
centralbanks <- c("Bank of Spain", "Bank of Canada", "Bank of Chile", "Federal Reserve", "FRB",
"Central Bank", 'Bank of Korea', "Bank of Mexico", "FED", "Bank of Italy",
"Hong Kong Monetary Authority", "Federal Bank Reserve", "Bank of Norway",
"Norges Bank", "Banco de Mexico", "National Bank of Ukraine")
centralbanks <- data_final %>% filter(grepl(paste(centralbanks, collapse="|"), placement))
centralbanks$placement_type5 <- "central_bank"
centralbanks <- centralbanks %>% select(name, placement_type5)
# Think tanks
thinktanks <- c("Resources for the Future", "Opportunity Insights", "American Enterprise Institute", "Rand",
"Hoover Institution", "Center for Global Development", "Upjohn Institute", "RAND", "RFF",
"Korea Institute", "Korea Development Institute")
thinktanks <- data_final %>% filter(grepl(paste(thinktanks, collapse="|"), placement))
thinktanks$placement_type6 <- "thinktank"
thinktanks <- thinktanks %>% select(name, placement_type6)
# Government
government <- c("Treasury", "Federal Trade Commission", "Congressional Budget Office","Joint Committee on Taxation",
"Committee for Public Counsel Services, Boston", "Boston Redevelopment Authority",
"Federal District Court", "U.S. Census Bureau", "US Naval Academy")
government <- data_final %>% filter(grepl(paste(government, collapse="|"), placement))
government$placement_type7 <- "government"
government <- government %>% select(name, placement_type7)
# Merge in type dummies
data_final <- left_join(data_final, postdocs)
data_final <- left_join(data_final, tenuretrack)
data_final <- left_join(data_final, intl)
data_final <- left_join(data_final, private)
data_final <- left_join(data_final, centralbanks)
data_final <- left_join(data_final, thinktanks)
data_final <- left_join(data_final, government)
# Assign type
data_final$placement_type <- data_final$placement_type1
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type2,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type3,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type4,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type5,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type6,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
data_final$placement_type7,
data_final$placement_type)
data_final$placement_type <- ifelse(is.na(data_final$placement_type),
"other",
data_final$placement_type)
#------------------------------ 3. Final cleaning and save ------------------------------#
data_final[5:11] <- list(NULL) # remove unnecessary dummies
data_final$name <- NULL
data_final$name <- ""
order <- c("year", "name", "field", "placement", "placement_type") # rearrange columns
data_final <- data_final[,order]
write_xlsx(data_final, "princeton.xls")
# Clean environment
setwd(paste0(code))
rm(list = ls())
# Set paths
source("_packages_paths.R")
setwd(paste0(data))
#------------------------------ 1. Read data and preliminary cleaning ------------------------------#
data <- read_dta("all/data_all_unis_proc.dta")
data <- data %>% filter(private == 1)
# Set paths
source("_packages_paths.R")
setwd(paste0(data))
#------------------------------ 1. Read data and preliminary cleaning ------------------------------#
data <- read_dta("all/data_all_unis_proc.dta")
data <- data %>% filter(private == 1)
View(data)
# Set paths
source("_packages_paths.R")
setwd(paste0(data))
#------------------------------ 1. Read data and preliminary cleaning ------------------------------#
data <- read_dta("all/data_all_unis_proc.dta")
data <- data %>% filter(private == 1)
# Preliminary cleaning
data$placement <- sub(", Associate", "", data$placement, fixed=TRUE)
data$placement <- sub("Economist", "", data$placement, fixed=TRUE)
data$placement <- sub("Data Scientist", "", data$placement, fixed=TRUE)
data$placement <- sub("Quantitative Researcher", "", data$placement, fixed=TRUE)
data$placement <- sub("Researcher", "", data$placement, fixed=TRUE)
data$placement <- sub("Software Engineer", "", data$placement, fixed=TRUE)
data$placement <- sub("Engineer", "", data$placement, fixed=TRUE)
data$placement <- sub("Senior", "", data$placement, fixed=TRUE)
data$placement <- sub("Analyst", "", data$placement, fixed=TRUE)
data$placement <- sub(",", "", data$placement, fixed=TRUE)
data$placement <- str_trim(data$placement)
